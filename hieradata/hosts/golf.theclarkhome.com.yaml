---

classes:
  - role::lxd_server

network::interfaces_hash:
  enp3s0:
    method:                     manual
    pre_up:
      - /sbin/ifconfig enp3s0 mtu 9004
  br0:
    ipaddress:                  "192.168.11.11"
    netmask:                    "%{hiera('defaults::netmask')}"
    gateway:                    "%{hiera('defaults::gateway')}"
    network:                    "%{hiera('defaults::network')}"
    dns_nameservers:            "%{hiera('defaults::dns_nameservers')}"
    dns_search:                 "%{hiera('defaults::dns_search')}"
    bridge_ports:
      - enp3s0
    bridge_maxwait:             "0"
    bridge_fd:                  "0"
    bridge_stp:                 "off"

sysctl::values:
  vm.swappiness:
    value: '10'
  vm.overcommit_memory:
    value: 2
  vm.overcommit_ratio:
    value: 25
  dirty_ratio:
    value: 15

# vim: sw=2:ai:nu expandtab
